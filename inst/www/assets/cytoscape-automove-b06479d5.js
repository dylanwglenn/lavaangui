import{c as rn,g as on}from"./core-js-93797867.js";var H={exports:{}};(function(D,sn){(function(l,d){D.exports=d()})(rn,function(){return function(g){var l={};function d(s){if(l[s])return l[s].exports;var u=l[s]={i:s,l:!1,exports:{}};return g[s].call(u.exports,u,u.exports,d),u.l=!0,u.exports}return d.m=g,d.c=l,d.i=function(s){return s},d.d=function(s,u,v){d.o(s,u)||Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:v})},d.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return d.d(u,"a",u),u},d.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},d.p="",d(d.s=3)}([function(g,l,d){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},u=d(2),v=s(""),p=s({}),N=s(function(){}),h=function(n){return(typeof n>"u"?"undefined":s(n))===p},I=function(n){return(typeof n>"u"?"undefined":s(n))===v},w=function(n){return(typeof n>"u"?"undefined":s(n))===N},P=function(n){return h(n)&&w(n.collection)},q=d(1),A=function(n){return n!=null&&!n.removed()},m=function(n,e){return n.has!=null?m=function(t,o){return t.has(o)}:m=function(t,o){return t.intersection(o).length>0},m(n,e)},M=function(n){if(I(n))return function(e){return e.is(n)};if(w(n))return n;if(P(n))return function(e){return m(n,e)};throw new Error("Can not create match function for spec",n)},k=function(n,e,r,t){var o={cy:n,events:e,selector:r||"node",fn:t};return n.on(o.events,o.selector,o.fn),o},b=function(n,e,r,t,o){var a=k(e,r,t,o),f=n.bindings=n.bindings||[];f.push(a)},R=function(n){var e=function(t){t.cy.off(t.events,t.selector,t.fn)};n.bindings.forEach(e),n.bindings=[]},z=function(n,e){var r=n.reposition;if(r==="mean")return U(M(n.meanIgnores));if(r==="viewport")return K(e);if(r==="drag")return G(n);if(h(r)){if(r.type==null||r.type=="inside")return X(r);if(r.type=="outside")return J(r)}else return r},G=function(n){return function(e){var r=e.position(),t=n.delta;if(n.delta!=null&&!e.same(n.grabbedNode)&&!e.grabbed())return{x:r.x+t.x,y:r.y+t.y}}},U=function(n){return function(e){for(var r=e.neighborhood(),t={x:0,y:0},o=0,a=0;a<r.length;a++){var f=r[a];if(f.isNode()&&!n(f)){var c=f.position();t.x+=c.x,t.y+=c.y,o++}}if(!(o<2))return t.x/=o,t.y/=o,t}},F=function(n,e,r){return n<e?e:n>r?r:n},_=function(n,e){var r=n.position();return{x:F(r.x,e.x1,e.x2),y:F(r.y,e.y1,e.y2)}},X=function(n){return function(e){return _(e,n)}},Y=function(n,e){var r=n.position(),t=r.x,o=r.y,a=e.x1,f=e.y1,c=e.x2,x=e.y2,y=a<=t&&t<=c,L=f<=o&&o<=x,E=Math.abs;if(y&&L){var W=E(a-t),j=E(c-t),C=E(f-o),tn=E(x-o),S=Math.min(W,j,C,tn);return S===W?{x:a,y:o}:S===j?{x:c,y:o}:S===C?{x:t,y:f}:{x:t,y:x}}else return{x:t,y:o}},J=function(n){return function(e){return Y(e,n)}},K=function(n){return function(e){var r=n.extent(),t=e.outerWidth(),o=e.outerHeight(),a={x1:r.x1+t/2,x2:r.x2-t/2,y1:r.y1+o/2,y2:r.y2-o/2};return _(e,a)}},Q=function(n){return function(e,r){var t=function(a){return n.matches(a)&&a.neighborhood().length>2&&!a.grabbed()};b(n,r,"position","node",function(){var o=this;(o.neighborhood().some(t)||n.meanOnSelfPosition(o)&&t(o))&&e(r,[n])}),b(n,r,"add remove","edge",function(){var o=this,a=r.getElementById(o.data("source")),f=r.getElementById(o.data("target"));[a,f].some(t)&&e(r,[n])})}},T=function(n){return function(e,r){b(n,r,"grab","node",function(){var t=this;if(n.dragWithMatches(t)){var o=t.position();n.grabbedNode=t,n.p1={x:o.x,y:o.y},n.delta={x:0,y:0}}}),b(n,r,"drag","node",function(){var t=this;if(t.same(n.grabbedNode)){var o=n.delta,a=n.p1,f=t.position(),c={x:f.x,y:f.y};o.x=c.x-a.x,o.y=c.y-a.y,n.p1=c,e(r,[n])}}),b(n,r,"free","node",function(){n.grabbedNode=null,n.delta=null,n.p1=null})}},V=function(n){return function(e,r){b(n,r,"position","node",function(){var t=this;n.matches(t)&&e(r,[n])})}},Z=function(n,e){return e.reposition==="mean"?Q(e):e.reposition==="drag"?T(e):h(e.reposition)||e.when==="matching"||e.reposition==="viewport"?V(e):e.when},$=function(n,e,r){var t=q({},u,r);t.getNewPos=z(t,n),t.listener=Z(n,t);var o=P(t.nodesMatching);if(o)t.nodes=t.nodesMatching.slice(),t.matches=function(f){return A(f)&&m(t.nodes,f)};else{var a=M(t.nodesMatching);t.matches=function(f){return A(f)&&a(f)}}return t.dragWith!=null&&(t.dragWithMatches=M(t.dragWith)),t.listener(function(){O(n,[t])},n),t.enabled=!0,e.rules.push(t),t},nn=function(n,e){e.onAddNode=function(r){var t=r.target;e.nodes.merge(t)},e.onRmNode=function(r){var t=r.target;e.nodes.unmerge(t)},n.on("add","node",e.onAddNode),n.on("remove","node",e.onRmNode)},B=function(n,e){n.removeListener("add","node",e.onAddNode),n.removeListener("remove","node",e.onRmNode)},O=function(n,e){var r=n.scratch().automove;e=e??r.rules,n.batch(function(){for(var t=0;t<e.length;t++){var o=e[t];if(o.destroyed||!o.enabled)break;for(var a=o.nodes||r.nodes,f=a.length-1;f>=0;f--){var c=a[f];if(c.removed()){a.unmerge(c);continue}if(o.matches(c)){var x=c.position(),y=o.getNewPos(c),L=y!=null&&(x.x!==y.x||x.y!==y.y);L&&(c.position(y),c.trigger("automove",[o]))}}}})},en=function(n){var e=this,r=e.scratch().automove=e.scratch().automove||{rules:[]};if(r.rules.length===0&&(r.nodes=e.nodes().slice(),nn(e,r)),n==="destroy"){r.rules.forEach(function(o){R(o),o.destroyed=!0}),r.rules.splice(0,r.rules.length),B(e,r);return}var t=$(e,r,n);return O(e,[t]),{apply:function(){O(e,[t])},disable:function(){this.toggle(!1)},enable:function(){this.toggle(!0)},enabled:function(){return t.enabled},toggle:function(a){t.enabled=a!==void 0?a:!t.enabled,t.enabled&&O(e,[t])},destroy:function(){var a=r.rules;return R(t),t.destroyed=!0,a.splice(a.indexOf(t),1),a.length===0&&B(e,r),this}}};g.exports=en},function(g,l,d){g.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var u=arguments.length,v=Array(u>1?u-1:0),p=1;p<u;p++)v[p-1]=arguments[p];return v.forEach(function(N){Object.keys(N).forEach(function(h){return s[h]=N[h]})}),s}},function(g,l,d){var s={nodesMatching:function(v){return!1},reposition:"mean",when:void 0,meanIgnores:function(v){return!1},meanOnSelfPosition:function(v){return!0},dragWith:function(v){return!1}};g.exports=s},function(g,l,d){var s=d(0),u=function(p){p&&p("core","automove",s)};typeof cytoscape<"u"&&u(cytoscape),g.exports=u}])})})(H);var an=H.exports;const fn=on(an);export{fn as a};
