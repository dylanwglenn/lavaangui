import{c as ne,g as oe}from"./core-js-bbf708ea.js";import{r as ae}from"./lodash.memoize-ae7939c9.js";import{r as ue}from"./lodash.throttle-e32db46a.js";var re={exports:{}};(function(se,ce){(function(J,u){se.exports=u(ae(),ue())})(ne,function(Z,J){return function(u){var m={};function n(i){if(m[i])return m[i].exports;var s=m[i]={i,l:!1,exports:{}};return u[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=u,n.c=m,n.i=function(i){return i},n.d=function(i,s,c){n.o(i,s)||Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:c})},n.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(s,"a",s),s},n.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},n.p="",n(n.s=12)}([function(u,m,n){u.exports=Object.assign!=null?Object.assign.bind(Object):function(i){for(var s=arguments.length,c=Array(s>1?s-1:0),a=1;a<s;a++)c[a-1]=arguments[a];return c.filter(function(p){return p!=null}).forEach(function(p){Object.keys(p).forEach(function(S){return i[S]=p[S]})}),i}},function(u,m,n){var i=n(10),s=n(0);u.exports=function(c){var a=this;return new i(s({cy:a},c))}},function(u,m,n){function i(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var a=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,a),window.addEventListener("touchmove",this.preventDefault,a),window.addEventListener("wheel",this.preventDefault,a)}return this}function s(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var a=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,a),window.removeEventListener("touchmove",this.preventDefault,a),window.removeEventListener("wheel",this.preventDefault,a)}return this}function c(){var a=this.cy;return this.lastPanningEnabled=a.panningEnabled(),this.lastZoomingEnabled=a.zoomingEnabled(),this.lastBoxSelectionEnabled=a.boxSelectionEnabled(),this}u.exports={disableGestures:i,resetGestures:s,saveGestureState:c}},function(u,m,n){function i(){var s=this,c=this.cy,a=this.options;return this.addListener(c,"drag",function(){return s.grabbingNode=!0}),this.addListener(c,"free",function(){return s.grabbingNode=!1}),this.addListener(c,"tapstart","node",function(p){var S=p.target;s.drawMode&&s.start(S)}),this.addListener(c,"tapdrag",function(p){s.update(p.position)}),this.addListener(c,"tapdragover","node",function(p){a.snap||s.preview(p.target)}),this.addListener(c,"tapdragout","node",function(p){a.snap||s.unpreview(p.target)}),this.addListener(c,"tapend",function(){s.stop()}),this}u.exports={addCytoscapeListeners:i}},function(u,m,n){var i={canConnect:function(c,a){return!c.same(a)},edgeParams:function(c,a){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0};u.exports=i},function(u,m,n){function i(a){var p=this.cy;return this.drawMode=a??!this.drawMode,this.drawMode?(this.prevUngrabifyState=p.autoungrabify(),p.autoungrabify(!0),this.emit("drawon")):(p.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this}function s(){return this.toggleDrawMode(!0)}function c(){return this.toggleDrawMode(!1)}u.exports={toggleDrawMode:i,enableDrawMode:s,disableDrawMode:c}},function(u,m,n){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s=n(0),c=function(t){return(typeof t>"u"?"undefined":i(t))===i("")},a=function(t){return(typeof t>"u"?"undefined":i(t))===i([])&&t.length!=null};function p(h,t,r){var e={};return s(e,t,h),s(e.data,t.data,h.data),c(t.classes)?e.classes=t.classes+" "+r:a(t.classes)?e.classes=t.classes.join(" ")+" "+r:e.classes=r,e}function S(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy;this.options;var r=this.presumptiveTargets,e=this.previewEles,o=this.active,d=this.sourceNode,g=this.targetNode,E=h?"eh-preview":"",f=t.collection(),C=this.canConnect(g);if(o&&C){if(!g||g.size()===0){e.remove(),this.emit("cancel",this.mp(),d,r);return}if(!h){e.removeClass("eh-preview").style("events",""),this.emit("complete",this.mp(),d,g,e);return}var D=t.add(p({group:"edges",data:{source:d.id(),target:g.id()}},this.edgeParams(g),E));return f=f.merge(D),h?(this.previewEles=f,f.style("events","no")):(f.style("events",""),this.emit("complete",this.mp(),d,g,f)),this}}function O(){return this.makeEdges(!0),this}function q(){return this.previewEles.nonempty()&&this.previewEles.inside()}function v(){return this.previewShown()&&this.previewEles.remove(),this}function y(){var h=this,t=this.sourceNode,r=this.ghostNode,e=this.cy,o=this.mx,d=this.my,g=o,E=d,f=void 0,C=void 0;if(t)return(!r||r.length===0||r.removed())&&(C=this.ghostEles=e.collection(),e.batch(function(){r=h.ghostNode=e.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}}),r.style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var D={};f=e.add(s({},D,{group:"edges",data:s({},D.data,{source:t.id(),target:r.id()}),classes:"eh-ghost eh-ghost-edge"})),f.style({events:"no"})}),C.merge(r).merge(f)),r.position({x:g,y:E}),this}u.exports={makeEdges:S,makePreview:O,removePreview:v,previewShown:q,updateEdge:y}},function(u,m,n){function i(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this}function s(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}u.exports={disableEdgeEvents:i,enableEdgeEvents:s}},function(u,m,n){function i(){return this.enabled=!0,this.emit("enable"),this}function s(){return this.enabled=!1,this.emit("disable"),this}u.exports={enable:i,disable:s}},function(u,m,n){var i=n(13),s=Math.sqrt(2);function c(t){var r=this.previewEles,e=this.ghostEles,o=function(N){return r.anySame(N)},d=function(N){return e.anySame(N)},g=function(N){return o(N)||d(N)},E=this.enabled,f=this.active,C=this.grabbingNode;return E&&!f&&!C&&t!=null&&t.nonempty()&&!g(t)}function a(t){return this.canStartOn(t)&&this.drawMode}function p(t){return this.canStartOn(t)&&!this.drawMode}function S(t){var r=this;if(this.canStartOn(t)){this.active=!0,this.sourceNode=t,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var e=function(d){return d.id()};this.canConnect=i(function(o){return r.options.canConnect(r.sourceNode,o)},e),this.edgeParams=i(function(o){return r.options.edgeParams(r.sourceNode,o)},e),this.emit("start",this.hp(),t)}}function O(t){if(this.active){var r=t;return this.mx=r.x,this.my=r.y,this.updateEdge(),this.throttledSnap(),this}}function q(){if(!this.active||!this.options.snap)return!1;var t=this.cy,r=this.targetNode,e=this.options.snapThreshold,o=this.mp(),d=this.previewEles,g=this.ghostNode,E=function(l){return s*Math.max(l.outerWidth(),l.outerHeight())/2},f=function(l,w,M,k){var B=M-l,T=k-w;return B*B+T*T},C=function(l,w){return f(l.x,l.y,w.x,w.y)},D=function(l){return C(l.position(),o)},N=function(l){var w=E(l),M=w+e;return M*M},j=function(l){return D(l)<=N(l)},I=function(l){var w=l.position(),M=l.outerWidth()/2,k=l.outerHeight()/2,B=w.x,T=w.y,b=o.x,x=o.y,P=B-M,H=B+M,G=T-k,z=T+k,R=P<=b&&b<=H,V=G<=x&&x<=z;if(R&&V)return 0;if(R){var $=x-G,_=x-z;return Math.min($*$,_*_)}else if(V){var ee=b-P,te=b-H;return Math.min(ee*ee,te*te)}else return b<P&&x<G?f(b,x,P,G):b>H&&x<G?f(b,x,H,G):b<P&&x>z?f(b,x,P,z):f(b,x,H,z)},F=function(l,w){return I(l)-I(w)},A=F,X=!1,Y=function(l){var w=o,M=l.outerWidth(),k=M/2,B=l.outerHeight(),T=B/2,b=l.position(),x=b.x-k,P=b.x+k,H=b.y-T,G=b.y+T;return x<=w.x&&w.x<=P&&H<=w.y&&w.y<=G},ie=function(l){return l.same(d)||l.same(g)},K=t.nodes(function(L){return!ie(L)&&j(L)}).sort(A),Q=!1;r.nonempty()&&!j(r)&&this.unpreview(r);for(var U=0;U<K.length;U++){var W=K[U];if(!(W.isParent()&&Y(W))&&!(W.isChild()&&!Y(W.parent()))&&(W.same(r)||this.preview(W,X))){Q=!0;break}}return Q}function v(t){var r=this,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=this.options,d=this.sourceNode,g=this.ghostNode,E=this.ghostEles,f=this.presumptiveTargets,C=this.previewEles,D=this.active,N=d,j=t.same(g),I=!this.canConnect(t),F=t.same(this.targetNode);if(!D||j||I||F)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var A=function(){r.targetNode=t,f.merge(t),t.addClass("eh-presumptive-target"),t.addClass("eh-target"),r.emit("hoverover",r.mp(),N,t),t.addClass("eh-preview"),E.addClass("eh-preview-active"),d.addClass("eh-preview-active"),t.addClass("eh-preview-active"),r.makePreview(),r.emit("previewon",r.mp(),N,t,C)};return e&&o.hoverDelay>0?this.previewTimeout=setTimeout(A,o.hoverDelay):A(),!0}function y(t){if(this.active){var r=this.previewTimeout,e=this.sourceNode,o=this.previewEles,d=this.ghostEles,g=this.cy;clearTimeout(r),this.previewTimeout=null;var E=e;return t.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),d.removeClass("eh-preview-active"),e.removeClass("eh-preview-active"),this.targetNode=g.collection(),this.removePreview(E,t),this.emit("hoverout",this.mp(),E,t),this.emit("previewoff",this.mp(),E,t,o),this}}function h(){if(this.active){var t=this.sourceNode,r=this.targetNode,e=this.ghostEles,o=this.presumptiveTargets;return clearTimeout(this.previewTimeout),t.removeClass("eh-source eh-preview-active"),r.removeClass("eh-target eh-preview eh-hover eh-preview-active"),o.removeClass("eh-presumptive-target"),this.makeEdges(),e.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),t),this}}u.exports={start:S,update:O,preview:v,unpreview:y,stop:h,snap:q,canStartOn:c,canStartDrawModeOn:a,canStartNonDrawModeOn:p}},function(u,m,n){var i=n(4),s=n(0),c=n(14),a=n(2),p=n(3),S=n(5),O=n(6),q=n(8),v=n(9),y=n(11),h=n(7);function t(o){var d=o.cy;this.cy=d,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=s({},i,o),this.saveGestureState(),this.addListeners(),this.throttledSnap=c(this.snap.bind(this),1e3/o.snapFrequency),this.preventDefault=function(f){return f.preventDefault()},this.canConnect=function(){return!1};var g=!1;try{var E=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,E)}catch{}g?this.windowListenerOptions={capture:!0,passive:!1}:this.windowListenerOptions=!0}var r=t.prototype={},e=function(d){return s(r,d)};r.destroy=function(){this.removeListeners()},r.setOptions=function(o){s(this.options,o)},r.mp=function(){return{x:this.mx,y:this.my}},r.hp=function(){return{x:this.hx,y:this.hy}},r.clearCollections=function(){var o=this.cy;this.previewEles=o.collection(),this.ghostEles=o.collection(),this.ghostNode=o.collection(),this.sourceNode=o.collection(),this.targetNode=o.collection(),this.presumptiveTargets=o.collection()},[a,p,S,O,q,v,y,h].forEach(e),u.exports=t},function(u,m,n){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};function s(){var v=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",function(){return v.destroy()}),this}function c(){for(var v=this.listeners.length-1;v>=0;v--){var y=this.listeners[v];this.removeListener(y.target,y.event,y.selector,y.callback,y.options)}return this}function a(v,y,h,t,r){return(typeof h>"u"?"undefined":i(h))!==i("")&&(t=h,r=t,h=null),r==null&&(r=!1),{target:v,event:y,selector:h,callback:t,options:r}}function p(v){return v instanceof Element}function S(v,y,h,t,r){var e=a(v,y,h,t,r);return this.listeners.push(e),p(e.target)?e.target.addEventListener(e.event,e.callback,e.options):e.selector?e.target.addListener(e.event,e.selector,e.callback,e.options):e.target.addListener(e.event,e.callback,e.options),this}function O(v,y,h,t,r){for(var e=a(v,y,h,t,r),o=this.listeners.length-1;o>=0;o--){var d=this.listeners[o];if(e.target===d.target&&e.event===d.event&&(e.selector==null||e.selector===d.selector)&&(e.callback==null||e.callback===d.callback)){this.listeners.splice(o,1),p(e.target)?e.target.removeEventListener(e.event,e.callback,e.options):e.selector?e.target.removeListener(e.event,e.selector,e.callback,e.options):e.target.removeListener(e.event,e.callback,e.options);break}}return this}function q(v,y){for(var h=this.cy,t=arguments.length,r=Array(t>2?t-2:0),e=2;e<t;e++)r[e-2]=arguments[e];return h.emit({type:"eh"+v,position:y},r),this}u.exports={addListener:S,addListeners:s,removeListener:O,removeListeners:c,emit:q}},function(u,m,n){var i=n(1),s=function(a){a&&a("core","edgehandles",i)};typeof cytoscape<"u"&&s(cytoscape),u.exports=s},function(u,m){u.exports=Z},function(u,m){u.exports=J}])})})(re);var he=re.exports;const pe=oe(he);export{pe as e};
